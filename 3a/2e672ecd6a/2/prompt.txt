Implement the following plan:

# Fix: CLI 中 FetchURL 截断 URL 支持 Ctrl+Click 打开完整链接

## Context

CLI 终端中 FetchURL 工具显示的 URL 被截断为 50 字符（如 `https://example.com/ver.../to/something`），用户 Ctrl+Click 时打开的是截断后的无效 URL。Web 端已修复。CLI 端需要利用 Rich 的 OSC 8 终端超链接支持，并额外显示完整 URL 以兼容不支持 OSC 8 的终端。

## 方案

核心思路：
1. **OSC 8 超链接**：截断文本通过 `Style(link=...)` 指向完整 URL，支持 Ctrl+Click
2. **完整 URL 提示行**：在截断文本下方额外显示完整 URL（仅当 URL 被截断时），确保所有终端都能看到

显示效果（URL 被截断时）：
```
● Used FetchURL (https://example.com/ver.../to/something)
  ↳ https://full-url-here.com/very/long/path/to/something
```

URL 未截断时（≤50 字符），不显示额外提示行。

### 修改文件

#### 1. `src/kimi_cli/tools/__init__.py` — 新增 `extract_full_url` 函数

新增独立函数提取 FetchURL 的完整 URL，不修改 `extract_key_argument` 的签名：

```python
def extract_full_url(json_content: str | streamingjson.Lexer, tool_name: str) -> str | None:
    if tool_name != "FetchURL":
        return None
    # 解析 JSON，提取 url 字段，返回完整 URL
```

#### 2. `src/kimi_cli/ui/shell/visualize.py` — 超链接 + 完整 URL 提示

**新增导入：**
- `from rich.style import Style`
- `from kimi_cli.tools import extract_key_argument, extract_full_url`

**`_ToolCallBlock` 修改：**

- `__init__`：新增 `self._full_url = extract_full_url(self._lexer, self._tool_name)`
- `append_args_part`：参数更新时同步更新 `self._full_url`
- 将 `_get_headline_markup()` (返回 str) 替换为 `_get_headline_text()` (返回 `Text`)，使用 `Style(color="grey50", link=self._full_url)` 渲染 URL 部分
- 提取静态方法 `_build_tool_headline(tool_name, argument, full_url, finished) -> Text` 复用于主调用和子代理调用
- `_compose` 中的 headline 后面，当 `_full_url` 存在且 URL 被截断时，追加一行完整 URL 提示：
  ```python
  if self._full_url and self._full_url != self._argument:
      url_text = Text()
      url_text.append("↳ ", style="grey50")
      url_text.append(self._full_url, style=Style(color="grey50", link=self._full_url))
      lines.append(Padding(url_text, (0, 0, 0, 2)))
  ```
- 子代理工具调用渲染（lines 196-208）同样处理

### 不修改的文件

- `extract_key_argument` 签名不变
- `shorten_middle` 不变
- ACP session 不变

### 边界情况

- URL 含 `]`：`Style(link=...)` API 安全处理
- 流式传输中 URL 未完整：`extract_full_url` 返回 None，降级为纯文本，不显示提示行
- 终端不支持 OSC 8：完整 URL 提示行仍可见，用户可手动复制
- URL ≤ 50 字符：不截断，不显示额外提示行

## 验证

1. 运行 CLI，触发 FetchURL 抓取一个长 URL（>50 字符）
2. 确认截断文本下方显示完整 URL 提示行
3. 在支持 OSC 8 的终端中，确认 Ctrl+Click 截断文本或提示行均可打开完整 URL
4. 触发 FetchURL 抓取短 URL（≤50 字符），确认不显示额外提示行
5. 确认非 FetchURL 工具调用显示不受影响


If you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /Users/moonshot/.REDACTED.jsonl

---

[Request interrupted by user for tool use]

---

重新制定方案。尽可能不要修改和影响其他的tool，甚至最好仅仅在显示层进行修改

---

这种方法不太好，什么地方开始url被截断的？为什么不从一开始就显示全的url？仅仅在显示端决定要不要缩写？

---

为什么kimi web能拿到完整的url

---

_extract_full_url 没理解

---

谁会被这个契约影响

---

执行方案吧

---

[Request interrupted by user for tool use]